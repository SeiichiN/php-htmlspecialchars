<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
	"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">

<head>
<title>README.html</title>

</head>

<body>

<h1 id="php-htmlspecialchars">php-htmlspecialchars</h1>
<p>phpのhtmlspecialchars関数を使うタイミング</p>
<h2 id="概要">概要</h2>
<p>『詳細! PHP7 + MySQL 入門ノート』という本がある。 その中での htmlspecialchars関数の使い方に関して疑問がある。</p>
<p>著者は、以下のようなコードを読者にすすめている。</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode php"><code class="sourceCode php"><a class="sourceLine" id="cb1-1" title="1"><span class="kw">function</span> es<span class="ot">(</span><span class="kw">$data</span><span class="ot">,</span> <span class="kw">$charset</span>=<span class="st">&#39;UTF-8&#39;</span><span class="ot">)</span>{</a>
<a class="sourceLine" id="cb1-2" title="2">  <span class="kw">if</span> <span class="ot">(</span><span class="fu">is_array</span><span class="ot">(</span><span class="kw">$data</span><span class="ot">))</span>{</a>
<a class="sourceLine" id="cb1-3" title="3">    <span class="kw">return</span> <span class="fu">array_map</span><span class="ot">(</span><span class="kw">__METHOD__</span><span class="ot">,</span> <span class="kw">$data</span><span class="ot">);</span></a>
<a class="sourceLine" id="cb1-4" title="4">  } <span class="kw">else</span> {</a>
<a class="sourceLine" id="cb1-5" title="5">    <span class="kw">return</span> <span class="fu">htmlspecialchars</span><span class="ot">(</span><span class="kw">$data</span><span class="ot">,</span> <span class="kw">ENT_QUOTES</span><span class="ot">,</span> <span class="kw">$charset</span><span class="ot">);</span></a>
<a class="sourceLine" id="cb1-6" title="6">  }</a>
<a class="sourceLine" id="cb1-7" title="7">}</a>
<a class="sourceLine" id="cb1-8" title="8"></a>
<a class="sourceLine" id="cb1-9" title="9"><span class="kw">$_POST</span> = es<span class="ot">(</span><span class="kw">$_POST</span><span class="ot">);</span></a></code></pre></div>
<p><!-- 修正時刻: Tue Feb 15 07:01:55 2022 --></p>

</body>
</html>
